<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DoGood — Log in</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body class="green-solid">
    <main class="hero-shell">
      <!-- Centered brand -->
      <header
        class="brand-top"
        style="width: 100%; display: flex; justify-content: center"
      >
        <div class="brand-mark">DoGood</div>
      </header>

      <section class="card">
        <h1 class="display" style="margin-bottom: 10px">Log in</h1>
        <p class="lede">
          Welcome back! Enter your email and password to continue.
        </p>

        {% if error %}
        <div class="alert">{{ error }}</div>
        {% endif %}

        <form
          action="{{ url_for('main.login') }}"
          method="POST"
          class="stack form-tight"
          style="margin-top: 12px"
        >
          <div class="field">
            <label class="label" for="email">Email</label>
            <input
              id="email"
              class="input big"
              type="email"
              name="email"
              placeholder="you@example.com"
              required
            />
          </div>

          <div class="field">
            <label class="label" for="password">Password</label>
            <div class="row">
              <input
                id="password"
                class="input big"
                type="password"
                name="password"
                placeholder="Your password"
                required
              />
              <button
                type="button"
                class="btn ghost small"
                onclick="togglePw()"
              >
                Show
              </button>
            </div>
          </div>

          <button class="btn primary jumbo w-full" type="submit">Log in</button>
        </form>

        <!-- footer actions -->
        <div class="login-actions">
          <a href="{{ url_for('main.index') }}" class="btn ghost"
            >← Back to Home</a
          >
          <a href="{{ url_for('main.create_community') }}" class="btn mono"
            >Create a community</a
          >
        </div>
      </section>
    </main>

    <script>
      function togglePw() {
        const pw = document.getElementById("password");
        const btns = document.querySelectorAll('button[onclick="togglePw()"]');
        if (!pw) return;
        if (pw.type === "password") {
          pw.type = "text";
          btns.forEach((b) => (b.textContent = "Hide"));
        } else {
          pw.type = "password";
          btns.forEach((b) => (b.textContent = "Show"));
        }
      }
    </script>
  </body>
</html>
